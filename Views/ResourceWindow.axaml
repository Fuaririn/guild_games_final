<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="GuildGame.Views.ResourceWindow"
        Width="820" Height="560"
        Title="Gestion de la Guilde">

  <DockPanel Margin="12">

    <Border DockPanel.Dock="Top" Padding="10" CornerRadius="10">
      <StackPanel Spacing="6">
        <StackPanel Orientation="Horizontal" Spacing="18">
          <TextBlock Text="{Binding Or, StringFormat=Or: {0}}" />
          <TextBlock Text="{Binding Nourriture, StringFormat=Nourriture: {0}}" />
          <TextBlock Text="{Binding Soins, StringFormat=Soins: {0}}" />
          <TextBlock Text="{Binding WeaponKits, StringFormat=Kits arme: {0}}" />
          <TextBlock Text="{Binding ArmorKits, StringFormat=Kits armure: {0}}" />
        </StackPanel>

        <!-- ✅ Message d'action -->
        <TextBlock Text="{Binding ActionMessage}" TextWrapping="Wrap" FontSize="12"/>
      </StackPanel>
    </Border>

    <Grid ColumnDefinitions="*,Auto" Margin="0,12,0,0">
      <Border Grid.Column="0" Padding="10" CornerRadius="10" Margin="0,0,12,0">
        <StackPanel>
          <TextBlock Text="Héros" FontSize="18" Margin="0,0,0,8"/>

          <ListBox ItemsSource="{Binding Heros}" SelectedItem="{Binding SelectedHero}"
                   ScrollViewer.VerticalScrollBarVisibility="Auto">
            <ListBox.ItemTemplate>
              <DataTemplate>
                <StackPanel>
                  <TextBlock Text="{Binding Nom}" />
                  <TextBlock Text="{Binding Statut, StringFormat=Statut: {0}}" FontSize="12"/>
                  <TextBlock Text="{Binding Niveau, StringFormat=Niveau: {0}}" FontSize="12"/>
                  <TextBlock Text="{Binding Experience, StringFormat=XP: {0}/100}" FontSize="12"/>
                </StackPanel>
              </DataTemplate>
            </ListBox.ItemTemplate>
          </ListBox>

          <TextBlock Text="{Binding SelectedHeroInfo}" Margin="0,10,0,0" FontSize="12" TextWrapping="Wrap"/>
        </StackPanel>
      </Border>

      <StackPanel Grid.Column="1" Spacing="10" VerticalAlignment="Top">
        <Button Content="Soigner (1 objet)" Command="{Binding HealCommand}" Width="240"/>
        <Button Content="Repos (après-midi, 1 fois)" Command="{Binding RestCommand}" Width="240"/>
        <Button Content="Équiper arme (+1 kit)" Command="{Binding EquipWeaponCommand}" Width="240"/>
        <Button Content="Équiper armure (+1 kit)" Command="{Binding EquipArmorCommand}" Width="240"/>
        <Button Content="Renvoyer" Command="{Binding DismissCommand}" Width="240"/>
      </StackPanel>
    </Grid>

  </DockPanel>
</Window>
